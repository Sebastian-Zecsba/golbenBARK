{% comment %}
Section: Testimonials
{% endcomment %}

<section class="testimonials-section" id="{{ section.id }}">
  <div class="wrapper">
    <h2 class="section-title">{{ section.settings.title }}</h2>
    <div class="testimonials-grid">
      {% for block in section.blocks %}
        <div class="testimonial-card">
          <div class="quote-icon">“</div>
          <div class="testimonial-text">{{ block.settings.quote_text }}</div>
          <div class="testimonial-footer">
            {% if block.settings.image != blank %}
              <img 
                class="author-photo" 
                src="{{ block.settings.image | image_url: '100x100' }}" 
                alt="Foto de {{ block.settings.author_name }}"
                width="100px"
                height="100px"
                >
            {% endif %}
            <div class="author-info">
              <p class="author-name">{{ block.settings.author_name }}</p>
              <p class="author-subtitle">{{ block.settings.author_subtitle }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
.testimonials-section {
  background: #000;
  color: #fff;
  padding: 80px 20px;
  text-align: center;
}
.wrapper {
  max-width: 1200px;
  margin: 0 auto;
}
.section-title {
  font-size: 2.25rem;
  font-weight: 600;
  margin-bottom: 50px;
}
.testimonials-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 30px;
}
.testimonial-card {
  background: #0f172a;
  padding: 40px 30px;
  position: relative;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.testimonial-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.3);
}
.quote-icon {
  font-size: 4rem;
  color: #FFD700;
  position: absolute;
  top: 20px;
  left: 20px;
}
.testimonial-text {
  margin-top: 60px;
  flex-grow: 1;
  font-size: 1rem;
  line-height: 1.6;
  color: #e5e7eb;
}
.testimonial-footer {
  display: flex;
  align-items: center;
  margin-top: 20px;
}
.author-photo {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  margin-right: 15px;
  object-fit: cover;
  border: 2px solid #fff;
}
.author-name {
  font-weight: 700;
  margin: 0;
  color: #fff;
}
.author-subtitle {
  font-size: 0.875rem;
  color: #9ca3af;
  margin: 2px 0 0;
}

/* Responsive */
@media (min-width: 640px) {
  .testimonials-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 1024px) {
  .testimonials-grid { grid-template-columns: repeat(3, 1fr); }
}
</style>

{% schema %}
{
  "name": "Testimonials",
  "settings": [
    { "type": "text", "id": "title", "label": "Título de la sección", "default": "Lo Que Dicen Nuestros Clientes" }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Foto del autor" },
        { "type": "textarea", "id": "quote_text", "label": "Texto del Testimonio", "default": "Este es un testimonio maravilloso de uno de nuestros clientes." },
        { "type": "text", "id": "author_name", "label": "Nombre del autor", "default": "Nombre Apellido" },
        { "type": "text", "id": "author_subtitle", "label": "Subtítulo (Ej: Cliente desde 2020)", "default": "Cliente desde 2020" }
      ]
    }
  ],
  "presets": [
    { "name": "Testimonios", "category": "Secciones" }
  ]
}
{% endschema %}
