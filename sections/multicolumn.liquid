{% schema %}
  {
    "name": "Testimonials",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Section Title",
        "default": "Lo Que Dicen Nuestros Clientes"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#000000"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#FFFFFF"
      }
    ],
    "blocks": [
      {
        "type": "testimonial",
        "name": "Testimonial",
        "settings": [
          {
            "type": "image_picker",
            "id": "customer_image",
            "label": "Customer Image"
          },
          {
            "type": "text",
            "id": "customer_name",
            "label": "Customer Name",
            "default": "Nombre del Cliente"
          },
          {
            "type": "text",
            "id": "customer_since",
            "label": "Customer Since",
            "default": "Cliente desde 20XX"
          },
          {
            "type": "textarea",
            "id": "testimonial_text",
            "label": "Testimonial Text",
            "default": "Texto del testimonio del cliente aqu√≠."
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Testimonials",
        "category": "Custom Content",
        "blocks": [
          {
            "type": "testimonial"
          },
          {
            "type": "testimonial"
          },
          {
            "type": "testimonial"
          }
        ]
      }
    ]
  }
  {% endschema %}
  
  <div class="testimonials-section" style="background-color: {{ section.settings.background_color }}; color: {{ section.settings.text_color }}; padding: 60px 20px;">
    <div class="container" style="max-width: 1200px; margin: 0 auto;">
      <h2 class="section-title" style="text-align: center; font-size: 2.5rem; margin-bottom: 50px;">{{ section.settings.title }}</h2>
      
      <div class="testimonials-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
        {% for block in section.blocks %}
          {% if block.type == 'testimonial' %}
            <div class="testimonial-card" style="background-color: #141B2D; border-radius: 8px; padding: 30px; position: relative;">
              <div class="quote-mark" style="position: absolute; top: 20px; left: 20px; font-size: 2.5rem; color: #FFD700; font-family: serif;">"</div>
              
              <p class="testimonial-text" style="margin-top: 20px; font-size: 1rem; line-height: 1.6;">
                {{ block.settings.testimonial_text }}
              </p>
              
              <div class="customer-info" style="display: flex; align-items: center; margin-top: 20px;">
                {% if block.settings.customer_image %}
                  <div class="customer-image" style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden; margin-right: 15px;">
                    <img 
                      src="{{ block.settings.customer_image | image_url: '100x' }}" 
                      alt="{{ block.settings.customer_name }}" 
                      style="width: 100%; height: 100%; object-fit: cover;"
                      width="100px"
                      height="100px"
                      >
                  </div>
                {% else %}
                  <div class="customer-image-placeholder" style="width: 50px; height: 50px; border-radius: 50%; background-color: #f0f0f0; margin-right: 15px;"></div>
                {% endif %}
                
                <div class="customer-details">
                  <p class="customer-name" style="margin: 0; font-weight: bold; font-size: 1.1rem;">{{ block.settings.customer_name }}</p>
                  <p class="customer-since" style="margin: 0; font-size: 0.9rem; opacity: 0.7;">{{ block.settings.customer_since }}</p>
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
  
  {% style %}
  .testimonials-section {
    font-family: Arial, sans-serif;
  }
  .testimonial-card {
    transition: transform 0.3s ease;
  }
  .testimonial-card:hover {
    transform: translateY(-5px);
  }
  .quote-mark {
    font-weight: bold;
  }
  {% endstyle %}